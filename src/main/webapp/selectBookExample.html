<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
</head>
<body>

Choose Book: <select id="bookList" onchange="detect()">
<option id ="initial" value="initial">---Choose Book---</option>
</select>

<button name="a" onclick="getBookList()">Get All Book</button>

<br/><br/>
Result: <div id="result"></div>

<script>
//function to get book list data
function getBookList(){

	//get the <select> element DOM object.
	var bookList = document.getElementById("bookList");
	
	//clear the <option> tag from <select> element DOM object:
	
	//get the number of how many <option> element this object has.
    var size = bookList.length;
    //lopping as many number of the <option> element. 
    for(var i=0; i<size; ++i){
    	//remove the <option> element, in index 0, to ensure all tag is removed.
    	bookList.remove(0);
	}
	
	//prepare the data from http response
	var dataBook = "第一書,第二書,第三書";
	
	//splits a string into an array of strings using the comma separator
	var dataBookArray = dataBook.split(",");
	
	//var dataBook = ["Book 1", "Book 2", "Book 3", "Book 4", "Book 5"]; 
	
	//Display the dropdown list from array.
	for(var i = 0; i < dataBookArray.length; ++i) {
    	var bookName = dataBookArray[i];
        
        //create new <option> tag.
    	var newOptionTag = document.createElement("option");
        
     	//set the content of the created <option> tag.
    	newOptionTag.textContent = bookName;
        
        //set the attribut "value" in created <option> tag.
    	newOptionTag.value = bookName;
        
        //add the created <option> tag inside <select> element.
        bookList.add(newOptionTag);
	}
}

//this function executed when user select the option from dropdown list.
function detect(){

//get the value of the selected <option> tag in "bookList" drop-down list.
var selectedValue = document.getElementById("bookList").value;

document.getElementById("result").innerHTML = selectedValue; 

//put in global variable to be accessed by another function.
window.selectedOption=selectedValue;  
}
</script>
</body>
</html>
